% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/collapse.R
\name{collapse_dim}
\alias{collapse_dim}
\title{Collapse a dimension of a tarr_pop cube}
\usage{
collapse_dim(x, dim, groups, keep_empty = FALSE, name = NULL)
}
\arguments{
\item{x}{A tarr_pop object}

\item{dim}{Dimension name (character) or index (integer)}

\item{groups}{Mapping from old labels -> new group labels.
See Details.}

\item{keep_empty}{Logical; keep groups with zero members?}

\item{name}{Optional new name for the dimension (defaults to original)}
}
\value{
A new tarr_pop with the chosen dimension collapsed by sum.
}
\description{
Groups labels along one dimension and sums population counts within groups.
Designed to stay lazy with DelayedArray/HDF5Array backends.
}
\details{
\code{groups} can be:
\itemize{
\item named character vector: names are old labels, values are new labels
\item list: names are new labels, elements are character vectors of old labels
\item factor: length == number of old labels; levels are new labels
}

Old labels not present in \code{groups} are dropped.
}
